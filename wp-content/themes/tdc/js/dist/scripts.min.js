window.Modernizr=function(e,t,n){function r(e){y.cssText=e}function o(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var r in e){var o=e[r];if(!i(o,"-")&&y[o]!==n)return"pfx"==t?o:!0}return!1}function c(e,t,r){for(var i in e){var a=t[e[i]];if(a!==n)return r===!1?e[i]:o(a,"function")?a.bind(r||t):a}return!1}function s(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+C.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?a(i,t):(i=(e+" "+w.join(r+" ")+r).split(" "),c(i,t,n))}var u,l,f,d="2.8.3",m={},p=!0,h=t.documentElement,v="modernizr",g=t.createElement(v),y=g.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),E="Webkit Moz O ms",C=E.split(" "),w=E.toLowerCase().split(" "),x={svg:"http://www.w3.org/2000/svg"},S={},N=[],F=N.slice,M=function(e,n,r,o){var i,a,c,s,u=t.createElement("div"),l=t.body,f=l||t.createElement("body");if(parseInt(r,10))for(;r--;)c=t.createElement("div"),c.id=o?o[r]:v+(r+1),u.appendChild(c);return i=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(l?u:f).innerHTML+=i,f.appendChild(u),l||(f.style.background="",f.style.overflow="hidden",s=h.style.overflow,h.style.overflow="hidden",h.appendChild(f)),a=n(u,e),l?u.parentNode.removeChild(u):(f.parentNode.removeChild(f),h.style.overflow=s),!!a},j=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var r;return M("@media "+t+" { #"+v+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},k=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var a=e in i;return a||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),a=o(i[e],"function"),o(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),T={}.hasOwnProperty;f=o(T,"undefined")||o(T.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=F.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var i=new o,a=t.apply(i,n.concat(F.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(F.call(arguments)))};return r}),S.flexbox=function(){return s("flexWrap")},S.flexboxlegacy=function(){return s("boxDirection")},S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:M(["@media (",b.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},S.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},S.cssanimations=function(){return s("animationName")},S.csscolumns=function(){return s("columnCount")},S.csstransforms=function(){return!!s("transform")},S.csstransforms3d=function(){var e=!!s("perspective");return e&&"webkitPerspective"in h.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},S.csstransitions=function(){return s("transition")},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(x.svg,"svg").createSVGRect},S.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==x.svg};for(var D in S)f(S,D)&&(l=D.toLowerCase(),m[l]=S[D](),N.push((m[l]?"":"no-")+l));return m.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&m.addTest(r,e[r]);else{if(e=e.toLowerCase(),m[e]!==n)return m;t="function"==typeof t?t():t,"undefined"!=typeof p&&p&&(h.className+=" "+(t?"":"no-")+e),m[e]=t}return m},r(""),g=u=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=g[e[h]];return t||(t={},v++,e[h]=v,g[v]=t),t}function i(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=o(n));var i;return i=r.cache[e]?r.cache[e].cloneNode():p.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!i.canHaveChildren||m.test(e)||i.tagUrn?i:r.frag.appendChild(i)}function a(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||o(e);for(var i=n.frag.cloneNode(),a=0,c=r(),s=c.length;s>a;a++)i.createElement(c[a]);return i}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function s(e){e||(e=t);var r=o(e);return!y.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||c(e,r),e}var u,l,f="3.7.0",d=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",v=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,l=!0}}();var y={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:f,shivCSS:d.shivCSS!==!1,supportsUnknownElements:l,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:s,createElement:i,createDocumentFragment:a};e.html5=y,s(t)}(this,t),m._version=d,m._prefixes=b,m._domPrefixes=w,m._cssomPrefixes=C,m.mq=j,m.hasEvent=k,m.testProp=function(e){return a([e])},m.testAllProps=s,m.testStyles=M,m.prefixed=function(e,t,n){return t?s(e,t,n):s(e,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+N.join(" "):""),m}(this,this.document);
window.Modernizr&&(Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone})),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var n=["webkit","moz"],e=0;e<n.length&&!window.requestAnimationFrame;++e){var i=n[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var t=0;window.requestAnimationFrame=function(n){var e=Date.now(),i=Math.max(t+16,e);return setTimeout(function(){n(t=i)},i-e)},window.cancelAnimationFrame=clearTimeout}}();
!function(t,n,i,e){function u(n,i){this.element=n,this.options=t.extend({},o,i),this._defaults=o,this._name=a,this.init()}var a="defaultPluginName",o={propertyName:"value"};u.prototype.init=function(){},t.fn[a]=function(n){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new u(this,n))})}}(jQuery,window,document);
!function(s,e,t,i){function n(e,t){this.element=e,this.options=s.extend({},o,t),this._defaults=o,this._name=a,this.has_events=!1,this.init(),this.initEvents()}var a="togglemenu",o={nav:".nav--main",subnav:".nav--sub",item:".nav__item",link:".nav__link",back:".nav__link--back",active:".is-active",inactive:".is-inactive",open:".is-open",reset_on_close:!0,reset_query:"screen and (min-width: 40em)"};n.prototype={init:function(){this.selectors={nav:("."+this.options.nav).replace("..","."),subnav:("."+this.options.subnav).replace("..","."),item:("."+this.options.item).replace("..","."),link:("."+this.options.link).replace("..","."),back:("."+this.options.back).replace("..","."),active:("."+this.options.active).replace("..","."),inactive:("."+this.options.inactive).replace("..","."),open:("."+this.options.open).replace("..",".")},this.classes={nav:this.options.nav.replace(/^\./g,""),subnav:this.options.subnav.replace(/^\./g,""),item:this.options.item.replace(/^\./g,""),link:this.options.link.replace(/^\./g,""),back:this.options.back.replace(/^\./g,""),active:this.options.active.replace(/^\./g,""),inactive:this.options.inactive.replace(/^\./g,""),open:this.options.open.replace(/^\./g,"")}},initEvents:function(){var t=this;this.has_events=!0,s(this.element).on("click",function(e){var i=s(t.selectors.nav).hasClass(t.classes.open);e.preventDefault(),t.toggleNav(i)}),s([this.selectors.nav+" "+this.selectors.link,this.selectors.nav+" "+this.selectors.back].join(",")).on("click",function(e){var i,n,a,o;i=s(this),a=i.hasClass(t.classes.back),n=a?i.parent(t.selectors.subnav):i.siblings(t.selectors.subnav),o=!!n.length&&!n.hasClass(t.classes.open),a?(e.preventDefault(),t.closeSubnav(n)):o&&(e.preventDefault(),t.openSubnav(i,n))}),"object"==typeof e.Modernizr&&"function"==typeof e.Modernizr.mq&&s(e).on("resize",function(){e.requestAnimationFrame(t.handleResize.bind(t))}).resize()},removeEvents:function(){this.has_events=!1,s(this.element).off("click"),s([this.selectors.nav+" "+this.selectors.link,this.selectors.nav+" "+this.selectors.back].join(",")).off("click")},toggleNav:function(e){var t=this;e&&!t.options.reset_on_close?(s(t.element).removeClass(t.classes.active),s(t.selectors.nav).removeClass(t.classes.open)):e&&t.options.reset_on_close?t.resetNav():(s(t.element).addClass(t.classes.active),s(t.selectors.nav).addClass(t.classes.open))},resetNav:function(){var e=this;s(e.element).removeClass(e.classes.active),s(e.selectors.nav).removeClass(e.classes.open).find([e.selectors.subnav,e.selectors.link,e.selectors.item,e.selectors.back].join()).removeClass([e.classes.active,e.classes.inactive,e.classes.open].join(" "))},openSubnav:function(s,e){var t=this;s.addClass(t.classes.active).closest(t.selectors.item).addClass(t.classes.active).siblings().addClass(t.classes.inactive),e.addClass(t.classes.open)},closeSubnav:function(s){var e=this;s.siblings().removeClass(e.classes.active),s.removeClass(e.classes.open).find([e.selectors.subnav,e.selectors.link,e.selectors.item,e.selectors.back].join()).removeClass([e.classes.active,e.classes.inactive,e.classes.open].join(" ")).end().closest(e.selectors.item).removeClass(e.classes.active).siblings().removeClass([e.classes.active,e.classes.inactive,e.classes.open].join(" "))},handleResize:function(){var t=this;s(e).width()!==t.window_width&&(t.window_width=s(e).width(),e.Modernizr.mq(t.options.reset_query)?(t.resetNav(),t.has_events&&t.removeEvents()):t.has_events||t.initEvents())}},s.fn[a]=function(e){return this.each(function(){s.data(this,"plugin_"+a)||s.data(this,"plugin_"+a,new n(this,e))})}}(jQuery,window,document);
!function(n,e,i,a){n(function(){n(".js-toggle-nav").togglemenu({nav:".nav--main",subnav:".nav--sub",item:".nav--item",link:".nav__link",back:".nav__link--back",active:".is-active",inactive:".is-active",open:".is-open",reset_on_close:!0,reset_query:"screen and (min-width: 40em)"})})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVybml6ci0yLjguMy5qcyIsInRvb2xzX2Rpc3QuanMiLCJqUXVlcnkuc2FtcGxlLmpzIiwialF1ZXJ5LnRvZ2dsZW1lbnUuanMiLCJzY3JpcHRzLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIk1vZGVybml6ciIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwic2V0Q3NzIiwic3RyIiwibVN0eWxlIiwiY3NzVGV4dCIsImlzIiwib2JqIiwidHlwZSIsImNvbnRhaW5zIiwic3Vic3RyIiwiaW5kZXhPZiIsInRlc3RQcm9wcyIsInByb3BzIiwicHJlZml4ZWQiLCJpIiwicHJvcCIsInRlc3RET01Qcm9wcyIsImVsZW0iLCJpdGVtIiwiYmluZCIsInRlc3RQcm9wc0FsbCIsInVjUHJvcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJjc3NvbVByZWZpeGVzIiwiam9pbiIsInNwbGl0IiwiaW5wdXRFbGVtIiwiZmVhdHVyZU5hbWUiLCJoYXNPd25Qcm9wIiwidmVyc2lvbiIsImVuYWJsZUNsYXNzZXMiLCJkb2NFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwibW9kIiwibW9kRWxlbSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInByZWZpeGVzIiwidG9TdHJpbmciLCJvbVByZWZpeGVzIiwiZG9tUHJlZml4ZXMiLCJ0b0xvd2VyQ2FzZSIsIm5zIiwic3ZnIiwidGVzdHMiLCJjbGFzc2VzIiwiaW5qZWN0RWxlbWVudFdpdGhTdHlsZXMiLCJydWxlIiwiY2FsbGJhY2siLCJub2RlcyIsInRlc3RuYW1lcyIsInJldCIsIm5vZGUiLCJkb2NPdmVyZmxvdyIsImRpdiIsImJvZHkiLCJmYWtlQm9keSIsInBhcnNlSW50IiwiaWQiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImJhY2tncm91bmQiLCJvdmVyZmxvdyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInRlc3RNZWRpYVF1ZXJ5IiwibXEiLCJtYXRjaE1lZGlhIiwibXNNYXRjaE1lZGlhIiwibWF0Y2hlcyIsImJvb2wiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwiaXNFdmVudFN1cHBvcnRlZCIsImV2ZW50TmFtZSIsImVsZW1lbnQiLCJUQUdOQU1FUyIsImlzU3VwcG9ydGVkIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2VsZWN0IiwiY2hhbmdlIiwic3VibWl0IiwicmVzZXQiLCJlcnJvciIsImxvYWQiLCJhYm9ydCIsIl9oYXNPd25Qcm9wZXJ0eSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm9iamVjdCIsInByb3BlcnR5IiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJGdW5jdGlvbiIsInRoYXQiLCJ0YXJnZXQiLCJ0aGlzIiwiVHlwZUVycm9yIiwiYXJncyIsImFyZ3VtZW50cyIsImJvdW5kIiwiRiIsInNlbGYiLCJyZXN1bHQiLCJhcHBseSIsImNvbmNhdCIsIk9iamVjdCIsIkRvY3VtZW50VG91Y2giLCJvZmZzZXRUb3AiLCJ0ZXN0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldEhlaWdodCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVNWR1JlY3QiLCJmaXJzdENoaWxkIiwibmFtZXNwYWNlVVJJIiwiZmVhdHVyZSIsInB1c2giLCJhZGRUZXN0Iiwia2V5IiwiY2xhc3NOYW1lIiwiYWRkU3R5bGVTaGVldCIsIm93bmVyRG9jdW1lbnQiLCJwIiwicGFyZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnNlcnRCZWZvcmUiLCJsYXN0Q2hpbGQiLCJnZXRFbGVtZW50cyIsImVsZW1lbnRzIiwiaHRtbDUiLCJnZXRFeHBhbmRvRGF0YSIsImRhdGEiLCJleHBhbmRvRGF0YSIsImV4cGFuZG8iLCJleHBhbklEIiwibm9kZU5hbWUiLCJzdXBwb3J0c1Vua25vd25FbGVtZW50cyIsImNhY2hlIiwiY2xvbmVOb2RlIiwic2F2ZUNsb25lcyIsImNyZWF0ZUVsZW0iLCJjYW5IYXZlQ2hpbGRyZW4iLCJyZVNraXAiLCJ0YWdVcm4iLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNsb25lIiwiZWxlbXMiLCJsIiwibGVuZ3RoIiwic2hpdk1ldGhvZHMiLCJjcmVhdGVGcmFnIiwicmVwbGFjZSIsInNoaXZEb2N1bWVudCIsInNoaXZDU1MiLCJzdXBwb3J0c0h0bWw1U3R5bGVzIiwiaGFzQ1NTIiwib3B0aW9ucyIsImEiLCJjaGlsZE5vZGVzIiwiZSIsIl92ZXJzaW9uIiwiX3ByZWZpeGVzIiwiX2RvbVByZWZpeGVzIiwiX2Nzc29tUHJlZml4ZXMiLCJoYXNFdmVudCIsInRlc3RQcm9wIiwidGVzdEFsbFByb3BzIiwidGVzdFN0eWxlcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwiaXBhZCIsImlwb2QiLCJpcGhvbmUiLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInZlbmRvcnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ2cCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibGFzdFRpbWUiLCJuZXh0VGltZSIsIk1hdGgiLCJtYXgiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiJCIsIlBsdWdpbiIsImV4dGVuZCIsImRlZmF1bHRzIiwiX2RlZmF1bHRzIiwiX25hbWUiLCJwbHVnaW5OYW1lIiwiaW5pdCIsInByb3BlcnR5TmFtZSIsImZuIiwiZWFjaCIsImpRdWVyeSIsImhhc19ldmVudHMiLCJpbml0RXZlbnRzIiwibmF2Iiwic3VibmF2IiwibGluayIsImJhY2siLCJhY3RpdmUiLCJpbmFjdGl2ZSIsIm9wZW4iLCJyZXNldF9vbl9jbG9zZSIsInJlc2V0X3F1ZXJ5Iiwic2VsZWN0b3JzIiwib24iLCJldmVudCIsImlzX29wZW4iLCJoYXNDbGFzcyIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlTmF2IiwiJGxpbmsiLCIkc3VibmF2IiwiaXNfYmFjayIsImlzX2Nsb3NlZCIsInNpYmxpbmdzIiwiY2xvc2VTdWJuYXYiLCJvcGVuU3VibmF2IiwiaGFuZGxlUmVzaXplIiwicmVzaXplIiwicmVtb3ZlRXZlbnRzIiwib2ZmIiwicmVtb3ZlQ2xhc3MiLCJyZXNldE5hdiIsImFkZENsYXNzIiwiZmluZCIsImNsb3Nlc3QiLCJlbmQiLCJ3aWR0aCIsIndpbmRvd193aWR0aCIsInRvZ2dsZW1lbnUiXSwibWFwcGluZ3MiOiJBQU9BQSxPQUFPQyxVQUFZLFNBQVdELEVBQVFFLEVBQVVDLEdBa001QyxRQUFTQyxHQUFRQyxHQUNiQyxFQUFPQyxRQUFVRixFQU9yQixRQUFTRyxHQUFJQyxFQUFLQyxHQUNkLGFBQWNELEtBQVFDLEVBRzFCLFFBQVNDLEdBQVVOLEVBQUtPLEdBQ3BCLFVBQVcsR0FBS1AsR0FBS1EsUUFBUUQsR0FHakMsUUFBU0UsR0FBV0MsRUFBT0MsR0FDdkIsSUFBTSxHQUFJQyxLQUFLRixHQUFRLENBQ25CLEdBQUlHLEdBQU9ILEVBQU1FLEVBQ2pCLEtBQU1OLEVBQVNPLEVBQU0sTUFBUVosRUFBT1ksS0FBVWYsRUFDMUMsTUFBbUIsT0FBWmEsRUFBb0JFLEdBQU8sRUFHMUMsT0FBTyxFQUdYLFFBQVNDLEdBQWNKLEVBQU9OLEVBQUtXLEdBQy9CLElBQU0sR0FBSUgsS0FBS0YsR0FBUSxDQUNuQixHQUFJTSxHQUFPWixFQUFJTSxFQUFNRSxHQUNyQixJQUFLSSxJQUFTbEIsRUFFRSxNQUFJaUIsTUFBUyxFQUFjTCxFQUFNRSxHQUU3QlQsRUFBR2EsRUFBTSxZQUNGQSxFQUFLQyxLQUFLRixHQUFRWCxHQUd0QlksRUFHM0IsT0FBTyxFQUdYLFFBQVNFLEdBQWNMLEVBQU1GLEVBQVVJLEdBRW5DLEdBQUlJLEdBQVVOLEVBQUtPLE9BQU8sR0FBR0MsY0FBZ0JSLEVBQUtTLE1BQU0sR0FDcERaLEdBQVdHLEVBQU8sSUFBTVUsRUFBY0MsS0FBS0wsRUFBUyxLQUFPQSxHQUFRTSxNQUFNLElBRXpFLE9BQUd0QixHQUFHUSxFQUFVLFdBQWFSLEVBQUdRLEVBQVUsYUFDckNGLEVBQVVDLEVBQU9DLElBR3hCRCxHQUFTRyxFQUFPLElBQU0sRUFBY1csS0FBS0wsRUFBUyxLQUFPQSxHQUFRTSxNQUFNLEtBQ2hFWCxFQUFh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Mk0sYUFBYyxXQUVWLEdBQUk1SCxHQUFPTixJQUtQNkYsR0FBRW5NLEdBQVFrUCxVQUFZdEksRUFBS3VJLGVBRTNCdkksRUFBS3VJLGFBQWVoRCxFQUFFbk0sR0FBUWtQLFFBRTFCbFAsRUFBT0MsVUFBVXNFLEdBQUdxQyxFQUFLd0QsUUFBUXFELGNBRWpDN0csRUFBS2lJLFdBRURqSSxFQUFLbUcsWUFDTG5HLEVBQUs4SCxnQkFLSjlILEVBQUttRyxZQUVObkcsRUFBS29HLGdCQXFCekJiLEVBQUVTLEdBQUdILEdBQWMsU0FBVXJDLEdBQ3pCLE1BQU85RCxNQUFLdUcsS0FBSyxXQUNSVixFQUFFekQsS0FBS3BDLEtBQU0sVUFBWW1HLElBQzFCTixFQUFFekQsS0FBS3BDLEtBQU0sVUFBWW1HLEVBQ3pCLEdBQUlMLEdBQU85RixLQUFNOEQsUUFPOUIwQyxPQUFROU0sT0FBUUU7Q0NoWmxCLFNBQVVpTSxFQUFHbk0sRUFBUUUsRUFBVUMsR0FFNUJnTSxFQUFFLFdBSUVBLEVBQUUsa0JBQWtCaUQsWUFDaEJuQyxJQUFRLGFBQ1JDLE9BQVEsWUFDUjdMLEtBQVEsYUFDUjhMLEtBQVEsYUFDUkMsS0FBUSxtQkFFUkMsT0FBVSxhQUNWQyxTQUFVLGFBQ1ZDLEtBQVUsV0FFVkMsZ0JBQWdCLEVBQ2hCQyxZQUFnQixvQ0FLekJYLE9BQVE5TSxPQUFRRSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIE1vZGVybml6ciAyLjguMyAoQ3VzdG9tIEJ1aWxkKSB8IE1JVCAmIEJTRFxuICogQnVpbGQ6IGh0dHA6Ly9tb2Rlcm5penIuY29tL2Rvd25sb2FkLyMtZmxleGJveC1mbGV4Ym94bGVnYWN5LW11bHRpcGxlYmdzLWNzc2FuaW1hdGlvbnMtY3NzY29sdW1ucy1jc3N0cmFuc2Zvcm1zLWNzc3RyYW5zZm9ybXMzZC1jc3N0cmFuc2l0aW9ucy1pbmxpbmVzdmctc3ZnLXRvdWNoLXNoaXYtbXEtY3NzY2xhc3Nlcy1hZGR0ZXN0LXByZWZpeGVkLXRlc3RzdHlsZXMtdGVzdHByb3AtdGVzdGFsbHByb3BzLWhhc2V2ZW50LXByZWZpeGVzLWRvbXByZWZpeGVzXG4gKi9cbjtcblxuXG5cbndpbmRvdy5Nb2Rlcm5penIgPSAoZnVuY3Rpb24oIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgIHZhciB2ZXJzaW9uID0gJzIuOC4zJyxcblxuICAgIE1vZGVybml6ciA9IHt9LFxuXG4gICAgZW5hYmxlQ2xhc3NlcyA9IHRydWUsXG5cbiAgICBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuXG4gICAgbW9kID0gJ21vZGVybml6cicsXG4gICAgbW9kRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobW9kKSxcbiAgICBtU3R5bGUgPSBtb2RFbGVtLnN0eWxlLFxuXG4gICAgaW5wdXRFbGVtICAsXG5cblxuICAgIHRvU3RyaW5nID0ge30udG9TdHJpbmcsXG5cbiAgICBwcmVmaXhlcyA9ICcgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gJy5zcGxpdCgnICcpLFxuXG5cblxuICAgIG9tUHJlZml4ZXMgPSAnV2Via2l0IE1veiBPIG1zJyxcblxuICAgIGNzc29tUHJlZml4ZXMgPSBvbVByZWZpeGVzLnNwbGl0KCcgJyksXG5cbiAgICBkb21QcmVmaXhlcyA9IG9tUHJlZml4ZXMudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLFxuXG4gICAgbnMgPSB7J3N2Zyc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyd9LFxuXG4gICAgdGVzdHMgPSB7fSxcbiAgICBpbnB1dHMgPSB7fSxcbiAgICBhdHRycyA9IHt9LFxuXG4gICAgY2xhc3NlcyA9IFtdLFxuXG4gICAgc2xpY2UgPSBjbGFzc2VzLnNsaWNlLFxuXG4gICAgZmVhdHVyZU5hbWUsIFxuXG5cbiAgICBpbmplY3RFbGVtZW50V2l0aFN0eWxlcyA9IGZ1bmN0aW9uKCBydWxlLCBjYWxsYmFjaywgbm9kZXMsIHRlc3RuYW1lcyApIHtcblxuICAgICAgdmFyIHN0eWxlLCByZXQsIG5vZGUsIGRvY092ZXJmbG93LFxuICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgICAgIGZha2VCb2R5ID0gYm9keSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG5cbiAgICAgIGlmICggcGFyc2VJbnQobm9kZXMsIDEwKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIG5vZGVzLS0gKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgbm9kZS5pZCA9IHRlc3RuYW1lcyA/IHRlc3RuYW1lc1tub2Rlc10gOiBtb2QgKyAobm9kZXMgKyAxKTtcbiAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0eWxlID0gWycmIzE3MzsnLCc8c3R5bGUgaWQ9XCJzJywgbW9kLCAnXCI+JywgcnVsZSwgJzwvc3R5bGU+J10uam9pbignJyk7XG4gICAgICBkaXYuaWQgPSBtb2Q7XG4gICAgICAgICAgKGJvZHkgPyBkaXYgOiBmYWtlQm9keSkuaW5uZXJIVE1MICs9IHN0eWxlO1xuICAgICAgZmFrZUJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgIGlmICggIWJvZHkgKSB7XG4gICAgICAgICAgICAgICAgZmFrZUJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgICAgICAgIGZha2VCb2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgZG9jT3ZlcmZsb3cgPSBkb2NFbGVtZW50LnN0eWxlLm92ZXJmbG93O1xuICAgICAgICAgIGRvY0VsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgICBkb2NFbGVtZW50LmFwcGVuZENoaWxkKGZha2VCb2R5KTtcbiAgICAgIH1cblxuICAgICAgcmV0ID0gY2FsbGJhY2soZGl2LCBydWxlKTtcbiAgICAgICAgaWYgKCAhYm9keSApIHtcbiAgICAgICAgICBmYWtlQm9keS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZha2VCb2R5KTtcbiAgICAgICAgICBkb2NFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gZG9jT3ZlcmZsb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIXJldDtcblxuICAgIH0sXG5cbiAgICB0ZXN0TWVkaWFRdWVyeSA9IGZ1bmN0aW9uKCBtcSApIHtcblxuICAgICAgdmFyIG1hdGNoTWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYSB8fCB3aW5kb3cubXNNYXRjaE1lZGlhO1xuICAgICAgaWYgKCBtYXRjaE1lZGlhICkge1xuICAgICAgICByZXR1cm4gbWF0Y2hNZWRpYShtcSkgJiYgbWF0Y2hNZWRpYShtcSkubWF0Y2hlcyB8fCBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJvb2w7XG5cbiAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAbWVkaWEgJyArIG1xICsgJyB7ICMnICsgbW9kICsgJyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgfSB9JywgZnVuY3Rpb24oIG5vZGUgKSB7XG4gICAgICAgIGJvb2wgPSAod2luZG93LmdldENvbXB1dGVkU3R5bGUgP1xuICAgICAgICAgICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKSA6XG4gICAgICAgICAgICAgICAgICBub2RlLmN1cnJlbnRTdHlsZSlbJ3Bvc2l0aW9uJ10gPT0gJ2Fic29sdXRlJztcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYm9vbDtcblxuICAgICB9LFxuIFxuXG4gICAgaXNFdmVudFN1cHBvcnRlZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIFRBR05BTUVTID0ge1xuICAgICAgICAnc2VsZWN0JzogJ2lucHV0JywgJ2NoYW5nZSc6ICdpbnB1dCcsXG4gICAgICAgICdzdWJtaXQnOiAnZm9ybScsICdyZXNldCc6ICdmb3JtJyxcbiAgICAgICAgJ2Vycm9yJzogJ2ltZycsICdsb2FkJzogJ2ltZycsICdhYm9ydCc6ICdpbWcnXG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKCBldmVudE5hbWUsIGVsZW1lbnQgKSB7XG5cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChUQUdOQU1FU1tldmVudE5hbWVdIHx8ICdkaXYnKTtcbiAgICAgICAgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZTtcblxuICAgICAgICAgICAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIGVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCAhaXNTdXBwb3J0ZWQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCAhZWxlbWVudC5zZXRBdHRyaWJ1dGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICggZWxlbWVudC5zZXRBdHRyaWJ1dGUgJiYgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICcnKTtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkID0gaXMoZWxlbWVudFtldmVudE5hbWVdLCAnZnVuY3Rpb24nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFpcyhlbGVtZW50W2V2ZW50TmFtZV0sICd1bmRlZmluZWQnKSApIHtcbiAgICAgICAgICAgICAgZWxlbWVudFtldmVudE5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoZXZlbnROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzRXZlbnRTdXBwb3J0ZWQ7XG4gICAgfSkoKSxcblxuXG4gICAgX2hhc093blByb3BlcnR5ID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSwgaGFzT3duUHJvcDtcblxuICAgIGlmICggIWlzKF9oYXNPd25Qcm9wZXJ0eSwgJ3VuZGVmaW5lZCcpICYmICFpcyhfaGFzT3duUHJvcGVydHkuY2FsbCwgJ3VuZGVmaW5lZCcpICkge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7IFxuICAgICAgICByZXR1cm4gKChwcm9wZXJ0eSBpbiBvYmplY3QpICYmIGlzKG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbcHJvcGVydHldLCAndW5kZWZpbmVkJykpO1xuICAgICAgfTtcbiAgICB9XG5cblxuICAgIGlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCh0aGF0KSB7XG5cbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGJvdW5kID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG5cbiAgICAgICAgICAgICAgdmFyIEYgPSBmdW5jdGlvbigpe307XG4gICAgICAgICAgICAgIEYucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgdmFyIHNlbGYgPSBuZXcgRigpO1xuXG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gc2VsZjtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDc3MoIHN0ciApIHtcbiAgICAgICAgbVN0eWxlLmNzc1RleHQgPSBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Q3NzQWxsKCBzdHIxLCBzdHIyICkge1xuICAgICAgICByZXR1cm4gc2V0Q3NzKHByZWZpeGVzLmpvaW4oc3RyMSArICc7JykgKyAoIHN0cjIgfHwgJycgKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXMoIG9iaiwgdHlwZSApIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IHR5cGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29udGFpbnMoIHN0ciwgc3Vic3RyICkge1xuICAgICAgICByZXR1cm4gISF+KCcnICsgc3RyKS5pbmRleE9mKHN1YnN0cik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFByb3BzKCBwcm9wcywgcHJlZml4ZWQgKSB7XG4gICAgICAgIGZvciAoIHZhciBpIGluIHByb3BzICkge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIGlmICggIWNvbnRhaW5zKHByb3AsIFwiLVwiKSAmJiBtU3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ZWQgPT0gJ3BmeCcgPyBwcm9wIDogdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdERPTVByb3BzKCBwcm9wcywgb2JqLCBlbGVtICkge1xuICAgICAgICBmb3IgKCB2YXIgaSBpbiBwcm9wcyApIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gb2JqW3Byb3BzW2ldXTtcbiAgICAgICAgICAgIGlmICggaXRlbSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSA9PT0gZmFsc2UpIHJldHVybiBwcm9wc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpcyhpdGVtLCAnZnVuY3Rpb24nKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmJpbmQoZWxlbSB8fCBvYmopO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0UHJvcHNBbGwoIHByb3AsIHByZWZpeGVkLCBlbGVtICkge1xuXG4gICAgICAgIHZhciB1Y1Byb3AgID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSksXG4gICAgICAgICAgICBwcm9wcyAgID0gKHByb3AgKyAnICcgKyBjc3NvbVByZWZpeGVzLmpvaW4odWNQcm9wICsgJyAnKSArIHVjUHJvcCkuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgaWYoaXMocHJlZml4ZWQsIFwic3RyaW5nXCIpIHx8IGlzKHByZWZpeGVkLCBcInVuZGVmaW5lZFwiKSkge1xuICAgICAgICAgIHJldHVybiB0ZXN0UHJvcHMocHJvcHMsIHByZWZpeGVkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wcyA9IChwcm9wICsgJyAnICsgKGRvbVByZWZpeGVzKS5qb2luKHVjUHJvcCArICcgJykgKyB1Y1Byb3ApLnNwbGl0KCcgJyk7XG4gICAgICAgICAgcmV0dXJuIHRlc3RET01Qcm9wcyhwcm9wcywgcHJlZml4ZWQsIGVsZW0pO1xuICAgICAgICB9XG4gICAgfSAgICB0ZXN0c1snZmxleGJveCddID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGVzdFByb3BzQWxsKCdmbGV4V3JhcCcpO1xuICAgIH07XG5cblxuICAgIHRlc3RzWydmbGV4Ym94bGVnYWN5J10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnYm94RGlyZWN0aW9uJyk7XG4gICAgfTtcblxuXG5cbiAgICB0ZXN0c1sndG91Y2gnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYm9vbDtcblxuICAgICAgICBpZigoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpIHtcbiAgICAgICAgICBib29sID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmplY3RFbGVtZW50V2l0aFN0eWxlcyhbJ0BtZWRpYSAoJyxwcmVmaXhlcy5qb2luKCd0b3VjaC1lbmFibGVkKSwoJyksbW9kLCcpJywneyNtb2Rlcm5penJ7dG9wOjlweDtwb3NpdGlvbjphYnNvbHV0ZX19J10uam9pbignJyksIGZ1bmN0aW9uKCBub2RlICkge1xuICAgICAgICAgICAgYm9vbCA9IG5vZGUub2Zmc2V0VG9wID09PSA5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvb2w7XG4gICAgfTtcblxuICAgIHRlc3RzWydtdWx0aXBsZWJncyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3NzKCdiYWNrZ3JvdW5kOnVybChodHRwczovLyksdXJsKGh0dHBzOi8vKSxyZWQgdXJsKGh0dHBzOi8vKScpO1xuXG4gICAgICAgICAgICByZXR1cm4gKC8odXJsXFxzKlxcKC4qPyl7M30vKS50ZXN0KG1TdHlsZS5iYWNrZ3JvdW5kKTtcbiAgICB9OyAgICB0ZXN0c1snY3NzYW5pbWF0aW9ucyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2FuaW1hdGlvbk5hbWUnKTtcbiAgICB9O1xuXG5cbiAgICB0ZXN0c1snY3NzY29sdW1ucyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2NvbHVtbkNvdW50Jyk7XG4gICAgfTtcblxuICAgIHRlc3RzWydjc3N0cmFuc2Zvcm1zJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGVzdFByb3BzQWxsKCd0cmFuc2Zvcm0nKTtcbiAgICB9O1xuXG5cbiAgICB0ZXN0c1snY3NzdHJhbnNmb3JtczNkJ10gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgcmV0ID0gISF0ZXN0UHJvcHNBbGwoJ3BlcnNwZWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmV0ICYmICd3ZWJraXRQZXJzcGVjdGl2ZScgaW4gZG9jRWxlbWVudC5zdHlsZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAbWVkaWEgKHRyYW5zZm9ybS0zZCksKC13ZWJraXQtdHJhbnNmb3JtLTNkKXsjbW9kZXJuaXpye2xlZnQ6OXB4O3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDozcHg7fX0nLCBmdW5jdGlvbiggbm9kZSwgcnVsZSApIHtcbiAgICAgICAgICAgIHJldCA9IG5vZGUub2Zmc2V0TGVmdCA9PT0gOSAmJiBub2RlLm9mZnNldEhlaWdodCA9PT0gMztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cblxuICAgIHRlc3RzWydjc3N0cmFuc2l0aW9ucyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ3RyYW5zaXRpb24nKTtcbiAgICB9O1xuXG5cblxuICAgIHRlc3RzWydzdmcnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMuc3ZnLCAnc3ZnJykuY3JlYXRlU1ZHUmVjdDtcbiAgICB9O1xuXG4gICAgdGVzdHNbJ2lubGluZXN2ZyddID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gJzxzdmcvPic7XG4gICAgICByZXR1cm4gKGRpdi5maXJzdENoaWxkICYmIGRpdi5maXJzdENoaWxkLm5hbWVzcGFjZVVSSSkgPT0gbnMuc3ZnO1xuICAgIH07ICAgIGZvciAoIHZhciBmZWF0dXJlIGluIHRlc3RzICkge1xuICAgICAgICBpZiAoIGhhc093blByb3AodGVzdHMsIGZlYXR1cmUpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZU5hbWUgID0gZmVhdHVyZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lXSA9IHRlc3RzW2ZlYXR1cmVdKCk7XG5cbiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lXSA/ICcnIDogJ25vLScpICsgZmVhdHVyZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgICBNb2Rlcm5penIuYWRkVGVzdCA9IGZ1bmN0aW9uICggZmVhdHVyZSwgdGVzdCApIHtcbiAgICAgICBpZiAoIHR5cGVvZiBmZWF0dXJlID09ICdvYmplY3QnICkge1xuICAgICAgICAgZm9yICggdmFyIGtleSBpbiBmZWF0dXJlICkge1xuICAgICAgICAgICBpZiAoIGhhc093blByb3AoIGZlYXR1cmUsIGtleSApICkge1xuICAgICAgICAgICAgIE1vZGVybml6ci5hZGRUZXN0KCBrZXksIGZlYXR1cmVbIGtleSBdICk7XG4gICAgICAgICAgIH1cbiAgICAgICAgIH1cbiAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICBmZWF0dXJlID0gZmVhdHVyZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICBpZiAoIE1vZGVybml6cltmZWF0dXJlXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2Rlcm5penI7XG4gICAgICAgICB9XG5cbiAgICAgICAgIHRlc3QgPSB0eXBlb2YgdGVzdCA9PSAnZnVuY3Rpb24nID8gdGVzdCgpIDogdGVzdDtcblxuICAgICAgICAgaWYgKHR5cGVvZiBlbmFibGVDbGFzc2VzICE9PSBcInVuZGVmaW5lZFwiICYmIGVuYWJsZUNsYXNzZXMpIHtcbiAgICAgICAgICAgZG9jRWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgKHRlc3QgPyAnJyA6ICduby0nKSArIGZlYXR1cmU7XG4gICAgICAgICB9XG4gICAgICAgICBNb2Rlcm5penJbZmVhdHVyZV0gPSB0ZXN0O1xuXG4gICAgICAgfVxuXG4gICAgICAgcmV0dXJuIE1vZGVybml6cjsgXG4gICAgIH07XG5cblxuICAgIHNldENzcygnJyk7XG4gICAgbW9kRWxlbSA9IGlucHV0RWxlbSA9IG51bGw7XG5cbiAgICA7KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9ICczLjcuMCc7XG5cbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gd2luZG93Lmh0bWw1IHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgcmVTa2lwID0gL148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2k7XG5cbiAgICAgICAgICAgIHZhciBzYXZlQ2xvbmVzID0gL14oPzphfGJ8Y29kZXxkaXZ8ZmllbGRzZXR8aDF8aDJ8aDN8aDR8aDV8aDZ8aXxsYWJlbHxsaXxvbHxwfHF8c3BhbnxzdHJvbmd8c3R5bGV8dGFibGV8dGJvZHl8dGR8dGh8dHJ8dWwpJC9pO1xuXG4gICAgICAgICAgICB2YXIgc3VwcG9ydHNIdG1sNVN0eWxlcztcblxuICAgICAgICAgICAgdmFyIGV4cGFuZG8gPSAnX2h0bWw1c2hpdic7XG5cbiAgICAgICAgICAgIHZhciBleHBhbklEID0gMDtcblxuICAgICAgICAgICAgdmFyIGV4cGFuZG9EYXRhID0ge307XG5cbiAgICAgICAgICAgIHZhciBzdXBwb3J0c1Vua25vd25FbGVtZW50cztcblxuICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5pbm5lckhUTUwgPSAnPHh5ej48L3h5ej4nO1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c0h0bWw1U3R5bGVzID0gKCdoaWRkZW4nIGluIGEpO1xuXG4gICAgICAgICAgICBzdXBwb3J0c1Vua25vd25FbGVtZW50cyA9IGEuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSB8fCAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCkoJ2EnKTtcbiAgICAgICAgICAgICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdHlwZW9mIGZyYWcuY2xvbmVOb2RlID09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGZyYWcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCA9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBmcmFnLmNyZWF0ZUVsZW1lbnQgPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzSHRtbDVTdHlsZXMgPSB0cnVlO1xuICAgICAgICAgICAgc3VwcG9ydHNVbmtub3duRWxlbWVudHMgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICB9KCkpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsIGNzc1RleHQpIHtcbiAgICAgICAgICB2YXIgcCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgICAgIHBhcmVudCA9IG93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSB8fCBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgICAgIHAuaW5uZXJIVE1MID0gJ3g8c3R5bGU+JyArIGNzc1RleHQgKyAnPC9zdHlsZT4nO1xuICAgICAgICAgIHJldHVybiBwYXJlbnQuaW5zZXJ0QmVmb3JlKHAubGFzdENoaWxkLCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RWxlbWVudHMoKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnRzID0gaHRtbDUuZWxlbWVudHM7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBlbGVtZW50cyA9PSAnc3RyaW5nJyA/IGVsZW1lbnRzLnNwbGl0KCcgJykgOiBlbGVtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBleHBhbmRvRGF0YVtvd25lckRvY3VtZW50W2V4cGFuZG9dXTtcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgIGV4cGFuSUQrKztcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnRbZXhwYW5kb10gPSBleHBhbklEO1xuICAgICAgICAgICAgZXhwYW5kb0RhdGFbZXhwYW5JRF0gPSBkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKXtcbiAgICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoc3VwcG9ydHNVbmtub3duRWxlbWVudHMpe1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbm9kZTtcblxuICAgICAgICAgIGlmIChkYXRhLmNhY2hlW25vZGVOYW1lXSkge1xuICAgICAgICAgICAgbm9kZSA9IGRhdGEuY2FjaGVbbm9kZU5hbWVdLmNsb25lTm9kZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2F2ZUNsb25lcy50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgbm9kZSA9IChkYXRhLmNhY2hlW25vZGVOYW1lXSA9IGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSkpLmNsb25lTm9kZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlID0gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jYW5IYXZlQ2hpbGRyZW4gJiYgIXJlU2tpcC50ZXN0KG5vZGVOYW1lKSAmJiAhbm9kZS50YWdVcm4gPyBkYXRhLmZyYWcuYXBwZW5kQ2hpbGQobm9kZSkgOiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQob3duZXJEb2N1bWVudCwgZGF0YSl7XG4gICAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKXtcbiAgICAgICAgICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YSA9IGRhdGEgfHwgZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7XG4gICAgICAgICAgdmFyIGNsb25lID0gZGF0YS5mcmFnLmNsb25lTm9kZSgpLFxuICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgIGVsZW1zID0gZ2V0RWxlbWVudHMoKSxcbiAgICAgICAgICBsID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgIGZvcig7aTxsO2krKyl7XG4gICAgICAgICAgICBjbG9uZS5jcmVhdGVFbGVtZW50KGVsZW1zW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNoaXZNZXRob2RzKG93bmVyRG9jdW1lbnQsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoIWRhdGEuY2FjaGUpIHtcbiAgICAgICAgICAgIGRhdGEuY2FjaGUgPSB7fTtcbiAgICAgICAgICAgIGRhdGEuY3JlYXRlRWxlbSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgICAgICAgICAgIGRhdGEuY3JlYXRlRnJhZyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgICAgICAgIGRhdGEuZnJhZyA9IGRhdGEuY3JlYXRlRnJhZygpO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24obm9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFodG1sNS5zaGl2TWV0aG9kcykge1xuICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gRnVuY3Rpb24oJ2gsZicsICdyZXR1cm4gZnVuY3Rpb24oKXsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFyIG49Zi5jbG9uZU5vZGUoKSxjPW4uY3JlYXRlRWxlbWVudDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaC5zaGl2TWV0aG9kcyYmKCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzKCkuam9pbigpLnJlcGxhY2UoL1tcXHdcXC1dKy9nLCBmdW5jdGlvbihub2RlTmFtZSkge1xuICAgICAgICAgICAgZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICAgICAgICAgIGRhdGEuZnJhZy5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiAnYyhcIicgKyBub2RlTmFtZSArICdcIiknO1xuICAgICAgICAgIH0pICtcbiAgICAgICAgICAgICcpO3JldHVybiBufSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkoaHRtbDUsIGRhdGEuZnJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2hpdkRvY3VtZW50KG93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGRhdGEgPSBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KTtcblxuICAgICAgICAgIGlmIChodG1sNS5zaGl2Q1NTICYmICFzdXBwb3J0c0h0bWw1U3R5bGVzICYmICFkYXRhLmhhc0NTUykge1xuICAgICAgICAgICAgZGF0YS5oYXNDU1MgPSAhIWFkZFN0eWxlU2hlZXQob3duZXJEb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FydGljbGUsYXNpZGUsZGlhbG9nLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb257ZGlzcGxheTpibG9ja30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJre2JhY2tncm91bmQ6I0ZGMDtjb2xvcjojMDAwfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlbXBsYXRle2Rpc3BsYXk6bm9uZX0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghc3VwcG9ydHNVbmtub3duRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHNoaXZNZXRob2RzKG93bmVyRG9jdW1lbnQsIGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3duZXJEb2N1bWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaHRtbDUgPSB7XG5cbiAgICAgICAgICAgICAgICAnZWxlbWVudHMnOiBvcHRpb25zLmVsZW1lbnRzIHx8ICdhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0ZW1wbGF0ZSB0aW1lIHZpZGVvJyxcblxuICAgICAgICAgICAgICAgICd2ZXJzaW9uJzogdmVyc2lvbixcblxuICAgICAgICAgICAgICAgICdzaGl2Q1NTJzogKG9wdGlvbnMuc2hpdkNTUyAhPT0gZmFsc2UpLFxuXG4gICAgICAgICAgICAgICAgJ3N1cHBvcnRzVW5rbm93bkVsZW1lbnRzJzogc3VwcG9ydHNVbmtub3duRWxlbWVudHMsXG5cbiAgICAgICAgICAgICAgICAnc2hpdk1ldGhvZHMnOiAob3B0aW9ucy5zaGl2TWV0aG9kcyAhPT0gZmFsc2UpLFxuXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnZGVmYXVsdCcsXG5cbiAgICAgICAgICAgICAgICAnc2hpdkRvY3VtZW50Jzogc2hpdkRvY3VtZW50LFxuXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcblxuICAgICAgICAgICAgICAgIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6IGNyZWF0ZURvY3VtZW50RnJhZ21lbnRcbiAgICAgICAgfTtcblxuICAgICAgICAgICAgd2luZG93Lmh0bWw1ID0gaHRtbDU7XG5cbiAgICAgICAgICAgIHNoaXZEb2N1bWVudChkb2N1bWVudCk7XG5cbiAgICB9KHRoaXMsIGRvY3VtZW50KSk7XG5cbiAgICBNb2Rlcm5penIuX3ZlcnNpb24gICAgICA9IHZlcnNpb247XG5cbiAgICBNb2Rlcm5penIuX3ByZWZpeGVzICAgICA9IHByZWZpeGVzO1xuICAgIE1vZGVybml6ci5fZG9tUHJlZml4ZXMgID0gZG9tUHJlZml4ZXM7XG4gICAgTW9kZXJuaXpyLl9jc3NvbVByZWZpeGVzICA9IGNzc29tUHJlZml4ZXM7XG5cbiAgICBNb2Rlcm5penIubXEgICAgICAgICAgICA9IHRlc3RNZWRpYVF1ZXJ5O1xuXG4gICAgTW9kZXJuaXpyLmhhc0V2ZW50ICAgICAgPSBpc0V2ZW50U3VwcG9ydGVkO1xuXG4gICAgTW9kZXJuaXpyLnRlc3RQcm9wICAgICAgPSBmdW5jdGlvbihwcm9wKXtcbiAgICAgICAgcmV0dXJuIHRlc3RQcm9wcyhbcHJvcF0pO1xuICAgIH07XG5cbiAgICBNb2Rlcm5penIudGVzdEFsbFByb3BzICA9IHRlc3RQcm9wc0FsbDtcblxuXG4gICAgTW9kZXJuaXpyLnRlc3RTdHlsZXMgICAgPSBpbmplY3RFbGVtZW50V2l0aFN0eWxlcztcbiAgICBNb2Rlcm5penIucHJlZml4ZWQgICAgICA9IGZ1bmN0aW9uKHByb3AsIG9iaiwgZWxlbSl7XG4gICAgICBpZighb2JqKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwocHJvcCwgJ3BmeCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwocHJvcCwgb2JqLCBlbGVtKTtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBkb2NFbGVtZW50LmNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoLyhefFxccyluby1qcyhcXHN8JCkvLCAnJDEkMicpICtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbmFibGVDbGFzc2VzID8gJyBqcyAnICsgY2xhc3Nlcy5qb2luKCcgJykgOiAnJyk7XG5cbiAgICByZXR1cm4gTW9kZXJuaXpyO1xuXG59KSh0aGlzLCB0aGlzLmRvY3VtZW50KTtcbjsiLCIvKipcbiAqIHRvb2xzX2Rpc3QuanNcbiAqXG4gKiBBIGNvbGxlY3Rpb24gb2YgdG9vbHMgYW5kIHNoaXZzIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5cblxuXG4vKipcbiAqIE1vZGVybml6ciBhZGRpdGlvbmFsIHRlc3RzIGZvciBpT1MgZGV2aWNlcy5cbiAqL1xuXG4vKiBnbG9iYWwgTW9kZXJuaXpyOnRydWUgKi9cbmlmICh3aW5kb3cuTW9kZXJuaXpyKSB7XG5cbiAgICBNb2Rlcm5penIuYWRkVGVzdCgnaXBhZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBhZC9pKTtcbiAgICB9KTtcbiAgICAgXG4gICAgTW9kZXJuaXpyLmFkZFRlc3QoJ2lwaG9uZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpO1xuICAgIH0pO1xuICAgICBcbiAgICBNb2Rlcm5penIuYWRkVGVzdCgnaXBvZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKTtcbiAgICB9KTtcbiAgICAgXG4gICAgTW9kZXJuaXpyLmFkZFRlc3QoJ2FwcGxlaW9zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKE1vZGVybml6ci5pcGFkIHx8IE1vZGVybml6ci5pcG9kIHx8IE1vZGVybml6ci5pcGhvbmUpO1xuICAgIH0pO1xuXG59XG5cblxuXG4vKipcbiAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbC5cbiAqL1xuaWYgKCFEYXRlLm5vdykge1xuXG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIFxuICAgIH07XG5cbn1cblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB2ZW5kb3JzID0gWyd3ZWJraXQnLCAnbW96J107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK2kpIHtcblxuICAgICAgICB2YXIgdnAgPSB2ZW5kb3JzW2ldO1xuXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdnAgKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9ICh3aW5kb3dbdnAgKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fFxuXG4gICAgICAgIHdpbmRvd1t2cCArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXSk7XG5cbiAgICB9XG5cbiAgICBpZiAoL2lQKGFkfGhvbmV8b2QpLipPUyA2Ly50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAhd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG5cbiAgICAgICAgdmFyIGxhc3RUaW1lID0gMDtcblxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB2YXIgbmV4dFRpbWUgPSBNYXRoLm1heChsYXN0VGltZSArIDE2LCBub3cpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2sobGFzdFRpbWUgPSBuZXh0VGltZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGltZSAtIG5vdyk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjbGVhclRpbWVvdXQ7XG5cbiAgICB9XG5cbn0oKSk7XG4iLCIvKiFcbiAqIGpRdWVyeS5zYW1wbGUuanNcbiAqXG4gKiBBIHNhbXBsZSBqUXVlcnkgcGx1Z2luIGZhY3Rvcnkgd3JhcHBlci5cbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgIC8vIENyZWF0ZSB0aGUgZGVmYXVsdHMgb25jZVxuICAgIHZhciBwbHVnaW5OYW1lID0gJ2RlZmF1bHRQbHVnaW5OYW1lJyxcbiAgICAgICAgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICd2YWx1ZSdcbiAgICAgICAgfTtcblxuICAgIC8vIFRoZSBhY3R1YWwgcGx1Z2luIGNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpIDtcblxuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICB0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgIH1cblxuICAgIFBsdWdpbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUGxhY2UgaW5pdGlhbGl6YXRpb24gbG9naWMgaGVyZVxuICAgICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgYWNjZXNzIHRvIHRoZSBET00gZWxlbWVudCBhbmRcbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgdmlhIHRoZSBpbnN0YW5jZSwgZS5nLiB0aGlzLmVsZW1lbnRcbiAgICAgICAgLy8gYW5kIHRoaXMub3B0aW9uc1xuICAgIH07XG5cbiAgICAvLyBBIHJlYWxseSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yLFxuICAgIC8vIHByZXZlbnRpbmcgYWdhaW5zdCBtdWx0aXBsZSBpbnN0YW50aWF0aW9uc1xuICAgICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUsXG4gICAgICAgICAgICAgICAgbmV3IFBsdWdpbih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4iLCIvKiFcbiAqIGpRdWVyeS50b2dnbGVtZW51LmpzXG4gKlxuICogQSBwbHVnaW4gdGhhdCBoZWxwcyBjcmVhdGluZyBtb2JpbGUgZnJpZW5kbHkgbmF2aWdhdGlvbiBtZW51cy5cbiAqXG4gKiBAYXV0aG9yICBSZWluaWVyIEthcGVyIDxyZWluaWVyLmthcGVyQHNvc2hhbC5jYT5cbiAqIEBleGFtcGxlXG5cbiQoJy5qcy10b2dnbGUtbmF2JykudG9nZ2xlbWVudSh7XG4gICAgbmF2OiAgICAnLm5hdi0tbWFpbicsXG4gICAgc3VibmF2OiAnLm5hdi0tc3ViJyxcbiAgICBpdGVtdjogICcubmF2LS1pdGVtJyxcbiAgICBsaW5rOiAgICcubmF2X19saW5rJyxcbiAgICBiYWNrOiAgICcubmF2X19saW5rLS1iYWNrJyxcblxuICAgIGFjdGl2ZTogICAnLmlzLWFjdGl2ZScsXG4gICAgaW5hY3RpdmU6ICcuaXMtYWN0aXZlJyxcbiAgICBvcGVuOiAgICAgJy5pcy1vcGVuJyxcblxuICAgIHJlc2V0X29uX2Nsb3NlOiB0cnVlLFxuICAgIHJlc2V0X3F1ZXJ5OiAgICAnc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0MGVtKSdcbn0pO1xuXG4gKiBuYXYgICAgICAgICAgICB7c3RyaW5nfSAgVGhlIGVsZW1lbnQgdG8gdGllIHRoZSBwbHVnaW4gdG8uXG4gKiBzdWJuYXYgICAgICAgICB7c3RyaW5nfSAgVGhlIHNlbGVjdG9yIGZvciBzdWIgbmF2aWdhdGlvbi5cbiAqIGl0ZW0gICAgICAgICAgIHtzdHJpbmd9ICBUaGUgc2VsZWN0b3IgZm9yIG5hdiBpdGVtcy5cbiAqIGxpbmsgICAgICAgICAgIHtzdHJpbmd9ICBUaGUgc2VsZWN0b3IgZm9yIG5hdiBsaW5rcy5cbiAqIGJhY2sgICAgICAgICAgIHtzdHJpbmd9ICBUaGUgc2VsZWN0b3IgZm9yIChvcHRpb25hbCkgYmFjayBsaW5rcy5cbiAqXG4gKiBhY3RpdmUgICAgICAgICB7c3RyaW5nfSAgVGhlIGNsYXNzIG5hbWUgZm9yIGFjdGl2ZSBlbGVtZW50cy5cbiAqIGluYWN0aXZlICAgICAgIHtzdHJpbmd9ICBUaGUgY2xhc3MgbmFtZSBmb3IgaW5hY3RpdmUgZWxlbWVudHMuXG4gKiBvcGVuICAgICAgICAgICB7c3RyaW5nfSAgVGhlIGNsYXNzIG5hbWUgZm9yIG9wZW4gZWxlbWVudHMuXG4gKlxuICogcmVzZXRfb25fY2xvc2Uge0Jvb2xlYW59IEVuYWJsZSB0byBjb21wbGV0ZWx5IHJlc2V0IHRoZSBuYXZpZ2F0aW9uIG9uIGNsb3NlLlxuICogcmVzZXRfcXVlcnkgICAge3N0cmluZ30gIE1lZGlhcXVlcnkgd2hlcmUgdGhlIHBsdWdpbiBzaG91bGQgYmUgZGlzYWJsZWQuXG4gKi9cblxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdmFyIHBsdWdpbk5hbWUgPSAndG9nZ2xlbWVudSc7XG5cblxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHRzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBuYXY6ICAgICAgJy5uYXYtLW1haW4nLFxuICAgICAgICAgICAgc3VibmF2OiAgICcubmF2LS1zdWInLFxuICAgICAgICAgICAgaXRlbTogICAgICcubmF2X19pdGVtJyxcbiAgICAgICAgICAgIGxpbms6ICAgICAnLm5hdl9fbGluaycsXG4gICAgICAgICAgICBiYWNrOiAgICAgJy5uYXZfX2xpbmstLWJhY2snLFxuXG4gICAgICAgICAgICBhY3RpdmU6ICAgJy5pcy1hY3RpdmUnLFxuICAgICAgICAgICAgaW5hY3RpdmU6ICcuaXMtaW5hY3RpdmUnLFxuICAgICAgICAgICAgb3BlbjogICAgICcuaXMtb3BlbicsXG5cbiAgICAgICAgICAgIHJlc2V0X29uX2Nsb3NlOiB0cnVlLFxuICAgICAgICAgICAgcmVzZXRfcXVlcnk6ICdzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQwZW0pJ1xuICAgICAgICB9O1xuXG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBhY3R1YWwgcGx1Z2luIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhlIHBsdWdpbiBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgdXNlciBwcm92aWRlZCBwbHVnaW4gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucykgO1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwbHVnaW5OYW1lO1xuXG4gICAgICAgIHRoaXMuaGFzX2V2ZW50cyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBQbHVnaW4gbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgUGx1Z2luLnByb3RvdHlwZSA9IHtcblxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemVzIHRoZSBwbHVnaW4uXG4gICAgICAgICAqL1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSB7XG4gICAgICAgICAgICAgICAgbmF2OiAgICAgICgnLicgKyB0aGlzLm9wdGlvbnMubmF2KS5yZXBsYWNlKCcuLicsICcuJyksXG4gICAgICAgICAgICAgICAgc3VibmF2OiAgICgnLicgKyB0aGlzLm9wdGlvbnMuc3VibmF2KS5yZXBsYWNlKCcuLicsICcuJyksXG4gICAgICAgICAgICAgICAgaXRlbTogICAgICgnLicgKyB0aGlzLm9wdGlvbnMuaXRlbSkucmVwbGFjZSgnLi4nLCAnLicpLFxuICAgICAgICAgICAgICAgIGxpbms6ICAgICAoJy4nICsgdGhpcy5vcHRpb25zLmxpbmspLnJlcGxhY2UoJy4uJywgJy4nKSxcbiAgICAgICAgICAgICAgICBiYWNrOiAgICAgKCcuJyArIHRoaXMub3B0aW9ucy5iYWNrKS5yZXBsYWNlKCcuLicsICcuJyksXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAgICgnLicgKyB0aGlzLm9wdGlvbnMuYWN0aXZlKS5yZXBsYWNlKCcuLicsICcuJyksXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6ICgnLicgKyB0aGlzLm9wdGlvbnMuaW5hY3RpdmUpLnJlcGxhY2UoJy4uJywgJy4nKSxcbiAgICAgICAgICAgICAgICBvcGVuOiAgICAgKCcuJyArIHRoaXMub3B0aW9ucy5vcGVuKS5yZXBsYWNlKCcuLicsICcuJylcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuY2xhc3NlcyA9IHtcbiAgICAgICAgICAgICAgICBuYXY6ICAgICAgdGhpcy5vcHRpb25zLm5hdi5yZXBsYWNlKC9eXFwuL2csICcnKSxcbiAgICAgICAgICAgICAgICBzdWJuYXY6ICAgdGhpcy5vcHRpb25zLnN1Ym5hdi5yZXBsYWNlKC9eXFwuL2csICcnKSxcbiAgICAgICAgICAgICAgICBpdGVtOiAgICAgdGhpcy5vcHRpb25zLml0ZW0ucmVwbGFjZSgvXlxcLi9nLCAnJyksXG4gICAgICAgICAgICAgICAgbGluazogICAgIHRoaXMub3B0aW9ucy5saW5rLnJlcGxhY2UoL15cXC4vZywgJycpLFxuICAgICAgICAgICAgICAgIGJhY2s6ICAgICB0aGlzLm9wdGlvbnMuYmFjay5yZXBsYWNlKC9eXFwuL2csICcnKSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICAgdGhpcy5vcHRpb25zLmFjdGl2ZS5yZXBsYWNlKC9eXFwuL2csICcnKSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdGhpcy5vcHRpb25zLmluYWN0aXZlLnJlcGxhY2UoL15cXC4vZywgJycpLFxuICAgICAgICAgICAgICAgIG9wZW46ICAgICB0aGlzLm9wdGlvbnMub3Blbi5yZXBsYWNlKC9eXFwuL2csICcnKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9LFxuXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZXMgdGhlIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdEV2ZW50czogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5oYXNfZXZlbnRzID0gdHJ1ZTtcblxuXG4gICAgICAgICAgICAvLyBXaGVuIHRoZSB0cmlnZ2VyIGlzIGNsaWNrZWQsIHRvZ2dsZSB0aGUgbWVudS5cbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzX29wZW4gPSAkKHNlbGYuc2VsZWN0b3JzLm5hdikuaGFzQ2xhc3Moc2VsZi5jbGFzc2VzLm9wZW4pO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZU5hdihpc19vcGVuKTtcblxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgLy8gV2hlbiBhIGxpbmsgaXMgY2xpY2tlZCwgY2hlY2sgZm9yIGEgc3VibmF2LlxuICAgICAgICAgICAgLy8gSWYgdGhlIHN1Ym5hdiBpcyBjbG9zZWQsIG9wZW4gaXQuIEluIGFsbCBvdGhlciBjYXNlcywgZm9sbG93IHRoZVxuICAgICAgICAgICAgLy8gbGluayBub3JtYWxseS5cbiAgICAgICAgICAgICQoW3RoaXMuc2VsZWN0b3JzLm5hdiArICcgJyArIHRoaXMuc2VsZWN0b3JzLmxpbmssIHRoaXMuc2VsZWN0b3JzLm5hdiArICcgJyArIHRoaXMuc2VsZWN0b3JzLmJhY2tdLmpvaW4oJywnKSkub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkbGluayxcbiAgICAgICAgICAgICAgICAgICAgJHN1Ym5hdixcbiAgICAgICAgICAgICAgICAgICAgaXNfYmFjayxcbiAgICAgICAgICAgICAgICAgICAgaXNfY2xvc2VkO1xuXG4gICAgICAgICAgICAgICAgJGxpbmsgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlzX2JhY2sgPSAkbGluay5oYXNDbGFzcyhzZWxmLmNsYXNzZXMuYmFjayk7XG4gICAgICAgICAgICAgICAgJHN1Ym5hdiA9IGlzX2JhY2sgPyAkbGluay5wYXJlbnQoc2VsZi5zZWxlY3RvcnMuc3VibmF2KSA6ICRsaW5rLnNpYmxpbmdzKHNlbGYuc2VsZWN0b3JzLnN1Ym5hdik7XG4gICAgICAgICAgICAgICAgaXNfY2xvc2VkID0gISEkc3VibmF2Lmxlbmd0aCAmJiAhJHN1Ym5hdi5oYXNDbGFzcyhzZWxmLmNsYXNzZXMub3Blbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNfYmFjaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VTdWJuYXYoJHN1Ym5hdik7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19jbG9zZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3BlblN1Ym5hdigkbGluaywgJHN1Ym5hdik7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAvLyBXaGVuIHRoZSB3aW5kb3cgaXMgcmVzaXplZCwgY2hlY2sgaWYgdGhlIG5hdmlnYXRpb24gbmVlZHMgdG8gYmVcbiAgICAgICAgICAgIC8vIHJlc2V0LCBidXQgb25seSBpZiB3ZSBjYW4gdXNlIE1vZGVybml6cidzIG1xKCkgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuTW9kZXJuaXpyID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cuTW9kZXJuaXpyLm1xID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2VsZi5oYW5kbGVSZXNpemUuYmluZChzZWxmKSk7XG5cbiAgICAgICAgICAgICAgICB9KS5yZXNpemUoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGFsbCBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLmhhc19ldmVudHMgPSBmYWxzZTtcblxuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZignY2xpY2snKTtcbiAgICAgICAgICAgICQoW3RoaXMuc2VsZWN0b3JzLm5hdiArICcgJyArIHRoaXMuc2VsZWN0b3JzLmxpbmssIHRoaXMuc2VsZWN0b3JzLm5hdiArICcgJyArIHRoaXMuc2VsZWN0b3JzLmJhY2tdLmpvaW4oJywnKSkub2ZmKCdjbGljaycpO1xuXG4gICAgICAgIH0sXG5cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2dnbGVzIHRoZSBhdHRhY2hlZCBuYXZpZ2F0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzX29wZW4gV2hldGhlciB0aGUgbmF2aWdhdGlvbiBpcyBjdXJyZW50bHkgb3Blbi5cbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZU5hdjogZnVuY3Rpb24oaXNfb3Blbikge1xuXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAgICAgICAgICAgLy8gV2hlbiB0aGUgbmF2aWdhdGlvbiBpcyBjdXJyZW50bHkgb3BlbiwgY2xvc2UgaXQsIG90aGVyd2lzZSBvcGVuXG4gICAgICAgICAgICAvLyB0aGUgbmF2aWdhdGlvbi5cbiAgICAgICAgICAgIGlmIChpc19vcGVuICYmICFzZWxmLm9wdGlvbnMucmVzZXRfb25fY2xvc2UpIHtcblxuICAgICAgICAgICAgICAgICQoc2VsZi5lbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3Moc2VsZi5jbGFzc2VzLmFjdGl2ZSk7XG5cbiAgICAgICAgICAgICAgICAkKHNlbGYuc2VsZWN0b3JzLm5hdilcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNlbGYuY2xhc3Nlcy5vcGVuKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc19vcGVuICYmIHNlbGYub3B0aW9ucy5yZXNldF9vbl9jbG9zZSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZXNldE5hdigpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJChzZWxmLmVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhzZWxmLmNsYXNzZXMuYWN0aXZlKTtcblxuICAgICAgICAgICAgICAgICQoc2VsZi5zZWxlY3RvcnMubmF2KVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2VsZi5jbGFzc2VzLm9wZW4pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc2V0cyBhbGwgZWxlbWVudHMgdG8gdGhlaXIgaW5pdGlhbCBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHJlc2V0TmF2OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgICAgICAgICAgICQoc2VsZi5lbGVtZW50KVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhzZWxmLmNsYXNzZXMuYWN0aXZlKTtcblxuICAgICAgICAgICAgJChzZWxmLnNlbGVjdG9ycy5uYXYpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNlbGYuY2xhc3Nlcy5vcGVuKVxuICAgICAgICAgICAgICAgIC5maW5kKFtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RvcnMuc3VibmF2LFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5saW5rLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5iYWNrXG4gICAgICAgICAgICAgICAgXS5qb2luKCkpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGFzc2VzLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGFzc2VzLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsYXNzZXMub3BlblxuICAgICAgICAgICAgICAgIF0uam9pbignICcpKTtcblxuICAgICAgICB9LFxuXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogT3BlbnMgdGhlIHN1Ym5hdmlnYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuU3VibmF2OiBmdW5jdGlvbigkbGluaywgJHN1Ym5hdikge1xuXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICRsaW5rXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHNlbGYuY2xhc3Nlcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgLmNsb3Nlc3Qoc2VsZi5zZWxlY3RvcnMuaXRlbSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2VsZi5jbGFzc2VzLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICAuc2libGluZ3MoKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhzZWxmLmNsYXNzZXMuaW5hY3RpdmUpO1xuXG4gICAgICAgICAgICAkc3VibmF2XG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHNlbGYuY2xhc3Nlcy5vcGVuKTtcblxuICAgICAgICB9LFxuXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xvc2VzIHRoZSBzdWJuYXZpZ2F0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gJHN1Ym5hdiBUaGUgc3VibmF2aWdhdGlvbiB0byBjbG9zZS5cbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlU3VibmF2OiBmdW5jdGlvbigkc3VibmF2KSB7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgJHN1Ym5hdlxuICAgICAgICAgICAgICAgIC5zaWJsaW5ncygpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNlbGYuY2xhc3Nlcy5hY3RpdmUpO1xuXG4gICAgICAgICAgICAkc3VibmF2XG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNlbGYuY2xhc3Nlcy5vcGVuKVxuICAgICAgICAgICAgICAgIC5maW5kKFtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RvcnMuc3VibmF2LFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5saW5rLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ycy5iYWNrXG4gICAgICAgICAgICAgICAgXS5qb2luKCkpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGFzc2VzLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGFzc2VzLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsYXNzZXMub3BlblxuICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KHNlbGYuc2VsZWN0b3JzLml0ZW0pXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNlbGYuY2xhc3Nlcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgLnNpYmxpbmdzKClcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoW1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsYXNzZXMuYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsYXNzZXMuaW5hY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xhc3Nlcy5vcGVuXG4gICAgICAgICAgICAgICAgXS5qb2luKCcgJykpO1xuXG4gICAgICAgIH0sXG5cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVzIHdpbmRvdyByZXNpemluZyBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIFNlZSBpZiB0aGUgcGx1Z2luIG5lZWRzIHRvIHJlc2V0IHdoZW4gdGhlIHJlc2V0IHF1ZXJ5IGlzIGhpdC5cbiAgICAgICAgICAgIC8vIFRoZSB3aW5kb3cgd2lkdGggY2hlY2sgaXMgdG8gcHJldmVudCB0aGUgZXZlbnQgZnJvbSBpbmNvcnJlY3RseVxuICAgICAgICAgICAgLy8gZmlyaW5nIGluIHNvbWUgYnJvd3NlcnMuXG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgIT09IHNlbGYud2luZG93X3dpZHRoKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLndpbmRvd193aWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5Nb2Rlcm5penIubXEoc2VsZi5vcHRpb25zLnJlc2V0X3F1ZXJ5KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVzZXROYXYoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5oYXNfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5oYXNfZXZlbnRzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgICogQSByZWFsbHkgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3RvciwgcHJldmVudGluZ1xuICAgICAqIGFnYWluc3QgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIHVzZXIgcHJvdmlkZWQgcGx1Z2luIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgIFRoZSBqUXVlcnkgb2JqZWN0IChmb3IgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUsXG4gICAgICAgICAgICAgICAgbmV3IFBsdWdpbih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuXG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuIiwiLyohXG4gKiBzY3JpcHRzLmpzXG4gKlxuICogQ2FsbCBhbnkgcGx1Z2lucyBhbmQgb3RoZXIgcmVndWxhciBKYXZhU2NyaXB0IGFuZCBqUXVlcnkgY29kZSBoZXJlLlxuICovXG5cbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAkKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vIEF0dGFjaGVzIHRoZSB0b2dnbGVtZW51IHBsdWdpbiB0byB0aGUgbWVudSBidXR0b24gdGhhdCdzIHZpc2libGUgZm9yXG4gICAgICAgIC8vIG1vYmlsZSB1c2Vycy5cbiAgICAgICAgJCgnLmpzLXRvZ2dsZS1uYXYnKS50b2dnbGVtZW51KHtcbiAgICAgICAgICAgIG5hdjogICAgJy5uYXYtLW1haW4nLFxuICAgICAgICAgICAgc3VibmF2OiAnLm5hdi0tc3ViJyxcbiAgICAgICAgICAgIGl0ZW06ICAgJy5uYXYtLWl0ZW0nLFxuICAgICAgICAgICAgbGluazogICAnLm5hdl9fbGluaycsXG4gICAgICAgICAgICBiYWNrOiAgICcubmF2X19saW5rLS1iYWNrJyxcblxuICAgICAgICAgICAgYWN0aXZlOiAgICcuaXMtYWN0aXZlJyxcbiAgICAgICAgICAgIGluYWN0aXZlOiAnLmlzLWFjdGl2ZScsXG4gICAgICAgICAgICBvcGVuOiAgICAgJy5pcy1vcGVuJyxcblxuICAgICAgICAgICAgcmVzZXRfb25fY2xvc2U6IHRydWUsXG4gICAgICAgICAgICByZXNldF9xdWVyeTogICAgJ3NjcmVlbiBhbmQgKG1pbi13aWR0aDogNDBlbSknXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=